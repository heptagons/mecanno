\documentclass{article}
\usepackage{amsmath}
\usepackage{../../meccano}

\begin{document}

\section{32 bits algebra}
Define one rational number $B$ and three algebraic numbers $C$, $E$ and $G$ all irreducibles:
\begin{align*}
B &\equiv \frac{\pm b_1}{a}\\
C &\equiv \frac{\pm b_1\pm b_2\sqrt{c_1}}{a}\\
E &\equiv \frac{\pm b_1\pm b_2\sqrt{c_1} \pm b_3\sqrt{c_2 \pm d_1\sqrt{e_1}}}{a}\\
G &\equiv \frac{\pm b_1\pm b_2\sqrt{c_1} \pm b_3\sqrt{c_2 \pm d_1\sqrt{e_1}} \pm b_4\sqrt{c_3 \pm d_2\sqrt{e_2 \pm f_1\sqrt{g_1}}}}{a}\\
\end{align*}

for 32-bit natural numbers:
\begin{align*}
1 &\leq a       \leq 4,294,967,295\\
0 &\leq b,c,d,e,f,g \leq 4,294,967,295\\
\end{align*}

\subsection{functions}
\begin{align*}
f_1 &= f(\pm b_1)\\
f_2 &= f(\pm b_2, c_1)\\
f_3 &= f(\pm b_3, c_2, \pm d_1, e_1)\\
f_4 &= f(\pm b_4, c_3, \pm d_2, e_2, \pm f_1, g_1)\\
\\
f_B &= f(f_1(), a)\\
f_C &= f(f_1(), f_2(), a)\\
f_E &= f(f_1(), f_2(), f_3(), a)\\
f_G &= f(f_1(), f_2(), f_3(), f_4(), a)\\
\end{align*}


$f_B$ examples:
\begin{align*}
\cos{0}             &= 1           \implies f_B(f_1(1),1)\\
\sin{\frac{\pi}{6}} &= \frac{1}{2} \implies f_B(f_1(1),2)
\end{align*}

$f_C$ examples:
\begin{align*}
\sin{\frac{\pi}{4}}  &= \frac{\sqrt{2}}{2}    \implies f_C(\emptyset,f_2(1,2),2)\\
\sin{\frac{\pi}{10}} &= \frac{-1+\sqrt{5}}{4} \implies f_C(f_1(-1),f_2(1,5),4)
\end{align*}

$f_E$ examples:
\begin{align*}
\sin{\frac{\pi}{5}}  &= \frac{\sqrt{10-2\sqrt{5}}}{4} \implies f_E(\emptyset,\emptyset,f_3(1,10,-2,5),4)\\
\sin{\frac{\pi}{12}} &= \frac{\sqrt{6} + \sqrt{2}}{4} \implies f_E(\emptyset,f_1(1,6),f_3(1,2,0,0),4) *\\
\sin{\frac{\pi}{12}} &= \frac{\sqrt{2 + \sqrt{3}}}{2} \implies f_E(\emptyset,\emptyset,f_3(1,2,1,3),2)\\
\cos{\frac{\pi}{15}} &= \frac{1+\sqrt{5}+\sqrt{30-6\sqrt{5}}}{8} \implies f_E(f_1(1),f_2(1,5),f_3(1,30,-6,5),8)
\end{align*}

$f_G$ examples:
\begin{align*}
\cos{\frac{\pi}{16}} &= \frac{\sqrt{2+\sqrt{2+\sqrt{2}}}}{2}
  \\&\implies f_G(\emptyset,\emptyset,\emptyset,f_4(1,2,1,2,1,2),2)\\
\cos{\frac{\pi}{24}} &= \frac{\sqrt{2+\sqrt{2+\sqrt{3}}}}{2}
  \\&\implies f_G(\emptyset,\emptyset,\emptyset,f_4(1,2,1,2,1,3),2)\\
\cos{\frac{2\pi}{17}} &=
\frac{-1+\sqrt{17}+\sqrt{34-2\sqrt{17}}+2\sqrt{17+3\sqrt{17}-\sqrt{170+38\sqrt{17}}}}{16}
    \\&\implies f_G(f_1(-1),f_2(1,17),f_3(1,34,-2,17),f_4(2,17,3,17,-1,170,+38,17),16)\\
\end{align*}

\section{Operations}

\subsection{$B_1 \times B_2 = B_3$}
\begin{align*}
B_1 \times B_2 &= \frac{\pm a_1}{b_1} \times \frac{\pm a_2}{b_2} \\
  &= \frac{\pm a_1a_2}{b_1b_2} \\
  &= \frac{\pm a_3}{b_3} & (\pm a_3,b_3) = \gcd(\pm a_1a_2, b_1b_2)
\end{align*}

\subsection{$1 / B_1 = B_2, a > 0$}
\begin{align*}
\frac{1}{B_1} &= \frac{1}{\pm a_1 / b_1}\\
 &= \frac{\pm b_1}{a_1} \\
 &= \frac{\pm a_2}{b_2}
\end{align*}

\subsection{$B_1 + B_2 = B_3$}
\begin{align*}
B_1 + B_2 &= \frac{\pm a_1}{b_1} + \frac{\pm a_2}{b_2} \\
 &= \frac{\pm a_1b_2 \pm a_2b_1 }{b_1b_2} \\
 &= \frac{\pm a_3}{b_3} & (\pm a_3,b_3) = \gcd(\pm a_1b_2, \pm a_2b_1,b_1b_2)
\end{align*}

\subsection{$\sqrt{B_1} = C_2$}
\begin{align*}
\sqrt{B_1} &= \sqrt{\frac{a_1}{b_1}}\\
  &= \frac{\sqrt{a_1b_1}}{b_1}\\
  &= \frac{m\sqrt{c_2}}{b_1}    & a_1b_1 = m^2c_2\\
  &= \frac{a_2\sqrt{c_2}}{b_2}  & (a_2, b_2) = gcd(m, b_1)
\end{align*}

\subsection{$B_1 + C_2 = D_3$}
\begin{align*}
B_1 + C_2 &= \frac{\pm a_1}{b_1} + \frac{\pm a_2\sqrt{c_2}}{b_2}\\
 &= \frac{\pm a_2b_1\sqrt{c_2} \pm a_1b_2 }{b_1b_2}\\
 &= \frac{\pm a_3\sqrt{c_2} \pm d_3 }{b_3} & (\pm a_3, b_3, \pm d_3) = gcd{\pm a_2b_1}{b_1b_2}{\pm a_1b_2}
\end{align*}

\subsection{$B_1 + D_2 = D_3$}
\begin{align*}
B_1 + D_2 &= \frac{\pm a_1}{b_1} + \frac{\pm a_2\sqrt{c_2} \pm d_2}{b_2}\\
 &= \frac{\pm a_2b_1\sqrt{c_2} \pm a_1b_2 \pm d_2b_1 }{b_1b_2}\\
 &= \frac{\pm a_3\sqrt{c_2} \pm d_3 }{b_3} & (\pm a_3, b_3, \pm d_3) = gcd(\pm a_2b_1,b_1b_2,\pm a_1b_2 \pm d_2b_1)
\end{align*}

\subsection{$B_1 + F_2 = F_3$} %7
\begin{align*}
B_1 + F_2 &= \frac{\pm a_1}{b_1} + \frac{\pm a_2\sqrt{c_2 \pm e_2\sqrt{f_2}} \pm d_2}{b_2}\\
 &= \frac{\pm a_2b1\sqrt{c_2 \pm e_2\sqrt{f_2}} \pm a_1b_2 \pm d_2b_1}{b_1b_2}\\
 &= \frac{\pm a_3\sqrt{c_2 \pm e_2\sqrt{f_2}} \pm d_3}{b_3} & (\pm a_3, b_3, \pm d_3)=gcd(\pm a_2b1,b_1b_2,\pm a_1b_2 \pm d_2b_1)
\end{align*}

\subsection{$C_1 + C_2 = F_3$} %8
\begin{align*}
 C_1 + C_2 &= \frac{\pm a_1\sqrt{c_1}}{b_1} + \frac{\pm a_2\sqrt{c_2}}{b_2} \\
 &= \frac{\pm a_1b_2\sqrt{c_1} \pm a_2b_1\sqrt{c_2}}{b_1b_2} \\
 &= \frac{\pm m\sqrt{c_1} \pm n\sqrt{c_2}}{o} \\
 &= \frac{\pm \sqrt{m^2c_1 + n^2c_2 \pm 2mn\sqrt{c_1c_2}}}{o} \\
 &= \frac{\pm \sqrt{q \pm 2mnp\sqrt{f_3}}}{o}     & c_1c_2 = p^2f_3\\
 &= \frac{\pm r\sqrt{c_3 \pm e_3\sqrt{f_3}}}{o}   & q = r^2c_3, 2mnp = r^2e_3 \\
 &= \frac{\pm a_3\sqrt{c_3 \pm e_3\sqrt{f_3}}}{b_3}
\end{align*}



\subsection{$C_1 \times C_2 = C_3$}
\begin{align*}
C_1 \times C_2 &= \frac{\pm a_1\sqrt{c_1}}{b_1} \times \frac{\pm a_2\sqrt{c_2}}{b_2}\\
 &= \frac{\pm a_1a_2\sqrt{c_1c_2}}{b_1b_2}\\
 &= \frac{\pm a_1a_2m\sqrt{c_3}}{b_1b_2} & c_1c_2 = m^2c_3\\
 &= \frac{\pm a_3\sqrt{c_3}}{b_3} & (\pm a_3,b_3) = gcd(\pm a_1a_2m,b_1b_2)
\end{align*}


\subsection{$1 / C_1 = C_2$}
\begin{align*}
1 / C_1 &= \frac{1}{\frac{\pm a_1\sqrt{c_1}}{b_1}} \\
 &= \frac{b_1}{\pm a_1\sqrt{c_1}}\\
 &= \frac{\pm b_1\sqrt{c_1}}{c_1}\\
 &= \frac{\pm a_2\sqrt{c_1}}{b_2}  & (\pm a_2, b_2) = gcd(\pm b_1, c1)
\end{align*}


\subsection{$\sqrt{C_1} = F_2$}
\begin{align*}
\sqrt{C_1} &= \sqrt{\frac{a_1\sqrt{c_1}}{b_1}}\\
 &= \frac{\sqrt{a_1b_1\sqrt{c_1}}}{b_1}     \\
 &= \frac{m\sqrt{e_2\sqrt{c_1}}}{b_1}       & a_1b_1 = m^2e_2\\
 &= \frac{a_2\sqrt{e_2\sqrt{c_1}}}{b_2}     & (a_2,b_2) = gcd(m,b_1)
\end{align*}

\subsection{$C_1 + D_2 = F_3$}
\begin{align*}
C_1 + D_2 &= \frac{\pm a_1\sqrt{c_1}}{b_1} + \frac{\pm a_2\sqrt{c_2} \pm d_2 }{b_2}\\
 &= \frac{\pm a_1b_2\sqrt{c_1} \pm a_2b_1\sqrt{c_2} \pm d_2b_1}{b_1b_2} \\
 &= \frac{\pm m\sqrt{c_1} \pm n\sqrt{c_2} \pm p}{o} 
 & (\pm m, \pm n, \pm p, o) = gcd(\pm a_1b_2, \pm a_2b_1, \pm d_2b_1, b_1b_2)\\
 &= \frac{\sqrt{m^2c_1 + n^2c_2 \pm 2mn\sqrt{c1c_2}} \pm p }{o} \\
 &= \frac{\sqrt{q \pm 2mnr\sqrt{f_3}} \pm p}{o}     & q = m^2c_1 + n^2c_2, c_1c_2 = r^2f_3\\
 &= \frac{s\sqrt{c_3 \pm e_3\sqrt{f_3}} \pm p}{o}   & q = s^2c_3, 2mnr = s^2e_3 \\
 &= \frac{a_3\sqrt{c_3 \pm e_3\sqrt{f_3}} \pm d_3}{b_3}
    & (a_3, b_3, \pm d_3) = gcd(s, \pm p, o)
\end{align*}

\subsection{$1 / D_1 = D_2$}
\begin{align*}
1 / D_1 &= \frac{b_1}{\pm a_1\sqrt{c_1} \pm d_1 }\\
 &= \frac{\pm a_1b_1\sqrt{c_1} \mp b_1d_1 }{a_1^2c_1 - d_1^2}\\
 &= \frac{a_2\sqrt{c_1} \pm d_2}{b_2}
    & (a_2, b_2, d_2) = gcd(\pm a_1b_1, \mp b_1d_1, a_1^2c_1 - d_1^2)
\end{align*}

\subsection{$\sqrt{D_1} = F_2$ editing...}
\begin{align*}
\sqrt{D_1} &= \sqrt{\frac{\pm a_1\sqrt{c_1} \pm d_1 }{b_1}}\\
 &= \frac{\sqrt{\pm b_1d_1 \pm a_1b_1\sqrt{f_2}}}{b_1}
    & f_2 = c_1\\
 &= \frac{m\sqrt{c_2 \pm e_2\sqrt{f_2}}}{b_1}
    & \pm b_1d_1 = m^2c_2, \pm a_1b_1 = m^2e_2\\
 &= \frac{a_2\sqrt{c_2 \pm e_2\sqrt{f_2}}}{b_2}
    & (a_2, b_2) = gcd(m, b_1)
\end{align*}

\subsection{$D_1 + D_2 = F_3$}
\begin{align*}
D_1 + D_2 &= \frac{\pm a_1\sqrt{c_1} \pm d_1 }{b_1} + \frac{\pm a_2\sqrt{c_2} \pm d_2 }{b_2}\\
 &= \frac{\pm a_1b_2\sqrt{c_1} \pm a_2b_1\sqrt{c_2} \pm d_1b_2 \pm d_2b_1}{b_1b_2} \\
 &= \frac{\pm m\sqrt{c_1} \pm n\sqrt{c_2} \pm p }{o}
     & (\pm m, \pm n, \pm p, o) = gcd(\pm a_1b_2, \pm a_2b_1, \pm d_1b_2 \pm d_2b_1, b_1b_2)\\
 &= \frac{\sqrt{m^2c_1 + n^2c_2 \pm 2mn\sqrt{c1c_2}} \pm p }{o} \\
 &= \frac{\sqrt{q \pm 2mnr\sqrt{f_3}} \pm p}{o}     & q = m^2c_1 + n^2c_2, c_1c_2 = r^2f_3\\
 &= \frac{s\sqrt{c_3 \pm e_3\sqrt{f_3}} \pm p}{o}   & q = s^2c_3, 2mnr = s^2e_3 \\
 &= \frac{a_3\sqrt{c_3 \pm e_3\sqrt{f_3}} \pm d_3}{b_3}
    & (a_3, b_3, \pm d_3) = gcd(s, \pm p, o)
\end{align*}

\subsection{$D_1 \times D_2 = F_3$}
\begin{align*}
D_1 \times D_2 &= \frac{\pm a_1\sqrt{c_1} \pm d_1 }{b_1} \times \frac{\pm a_2\sqrt{c_2} \pm d_2 }{b_2}\\
 &= \frac{\pm a_1a_2\sqrt{c_1c_2} \pm a_1d_2\sqrt{c1} \pm a_2d_1\sqrt{c_2} \pm d_1d_2}{b_1b_2}\\
\end{align*}





















\end{document}