\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{hepta}
	[2023/12/26 v0.01]

\RequirePackage{tikz}
\RequirePackage{ifthen}

\newcommand{\meccanostrip}[4][000000] % [color]{n}{sep}{prop}
{
 \definecolor{main}{HTML}{#1}
 \draw[main] (0,{{2*#4}})
   -- ++({#2*#3},0) arc(+90:-90:{2*#4})
   -- ++({-#2*#3},0) arc(270:90:{2*#4});
 \foreach \x in {0,1,...,#2}
  \draw[main] (\x*#3,0) circle (#4);
}

 \pgfmathsetmacro\rot{3*180/7}

\newcommand{\meccanoHeptagon}[9]{ 
  \meccanostrip[#1]{#2}{1}{#3} \path(#2,0) ++(-60:#9+#3) node{$#4$};
  \begin{scope}[shift={(#2,0)},rotate=\rot]
   \meccanostrip[#1]{#2}{1}{#3} \path(#2,0) ++(-60:#9+#3) node{$#5$};
   \begin{scope}[shift={(#2,0)},rotate=\rot]
    \meccanostrip[#1]{#2}{1}{#3} \path(#2,0) ++(-60:#9+#3) node{$#6$};
    \begin{scope}[shift={(#2,0)},rotate=\rot]
     \meccanostrip[#1]{#2}{1}{#3} \path(#2,0) ++(-60:#9+#3) node{$#7$};
     \begin{scope}[shift={(#2,0)},rotate=\rot]
      \meccanostrip[#1]{#2}{1}{#3} \path(#2,0) ++(-60:#9+#3) node{$#8$};
      \begin{scope}[shift={(#2,0)},rotate=\rot]
       \meccanostrip[#1]{#2}{1}{#3} %\path(#2,0) ++(-60:#9+#3) node{$#8$};
      \end{scope}
     \end{scope}
    \end{scope}
   \end{scope}
  \end{scope}
}

